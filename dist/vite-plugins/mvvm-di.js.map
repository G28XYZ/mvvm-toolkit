{"version":3,"file":"mvvm-di.js","sources":["../../src/vite-plugins/mvvm-di.ts"],"sourcesContent":[null],"names":["SERVICE_DECORATOR","STORE_DECORATOR","MVVM_MODULE","mvvmServiceDiPlugin","config","srcRoot","diPath","scanAndUpdateAll","files","collectSourceFiles","file","processFile","ensureDiFile","exists","containers","collectContainerFiles","content","fs","imports","serviceInterfaces","storeInterfaces","containerPath","servicesName","inferInterfaceName","storesName","inferStoresInterfaceName","importPath","toImportPath","path","filePath","entries","extractEntries","entry","ensureEntryInContainer","kind","ts","source","serviceIdentifiers","storeIdentifiers","statement","importClause","element","imported","_b","_a","local","results","node","className","decorators","decorator","expr","decoratorName","isService","isStore","firstArg","key","idProp","prop","target","findContainerTarget","containerExisted","entryKey","formatServiceKey","interfaceName","diInterfaceName","ensureDiIncludesContainer","existing","updated","updateContainerContent","absolute","currentDir","candidate","segments","containerDir","importStatement","escapeRegExp","insertImport","interfaceBlock","findInterfaceBlock","block","entryLine","initialContent","insertDiImport","normalizeDiDeclaration","ensureDiExtends","lines","insertIndex","i","startMatch","startIndex","endIndex","body","indentMatch","indent","name","re","match","extendsList","insertion","start","end","nameSegment","toPascalCase","value","part","fromDir","withoutExt","dir","fullPath","resolved","ctx"],"mappings":"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"}